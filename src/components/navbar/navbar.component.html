<nav class="navbar">
  <div class="navbar-container">
    <!-- Logo/Brand -->
    <div class="navbar-brand">
      <a href="/" class="logo">HealthPredictor</a>
    </div>

    <!-- Toggle Button for Mobile -->
    <button class="hamburger" [class.active]="isMenuOpen" (click)="toggleMenu()" aria-label="Toggle navigation" [attr.aria-expanded]="isMenuOpen">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <!-- Navigation Menu -->
    <ul class="nav-menu" [class.active]="isMenuOpen">
      <li class="nav-item">
        <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }" class="nav-link" (click)="closeMenu()">Inicio</a>
      </li>
      <li class="nav-item">
        <a routerLink="/prediction" routerLinkActive="active" class="nav-link" (click)="closeMenu()">Predicción</a>
      </li>
      <li class="nav-item">
        <a routerLink="/chat" routerLinkActive="active" class="nav-link" (click)="closeMenu()">Chat</a>
      </li>
      <ng-container *ngIf="authUser$ | async as user; else guestLinks">
        <li class="nav-item">
          <a routerLink="/profile" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
            {{ displayName(user.username) }}
          </a>
        </li>
      </ng-container>
      <ng-template #guestLinks>
        <li class="nav-item">
          <a routerLink="/login" routerLinkActive="active" class="nav-link" (click)="closeMenu()">Iniciar Sesión</a>
        </li>
        <li class="nav-item">
          <a routerLink="/register" routerLinkActive="active" class="nav-link" (click)="closeMenu()">Registrarse</a>
        </li>
      </ng-template>
    </ul>
  </div>
</nav>
