<div class="initial-container">
  <div class="profile-card">
    <h2 class="text-center" style="margin-bottom: 2rem;">Mi cuenta</h2>

    <div *ngIf="isLoading">Cargando perfil...</div>
    
    <div *ngIf="errorMessage && !isLoading" class="error-container">
      <div class="error-text">{{ errorMessage }}</div>
      <div *ngIf="errorMessage.includes('inicia sesión') || errorMessage.includes('autenticado')" class="auth-actions" style="margin-top: 1rem;">
        <button class="btn-primario" type="button" (click)="goToLogin()" style="margin-right: 0.5rem;">
          Iniciar sesión
        </button>
        <button class="btn-secundario" type="button" (click)="goToRegister()">
          Registrarse
        </button>
      </div>
    </div>

    <div *ngIf="user && !isLoading">
      <p><strong>Usuario:</strong> {{ user.username }}</p>
      <p><strong>Email:</strong> {{ user.email }}</p>
      <p *ngIf="user.created_at"><strong>Creado:</strong> {{ user.created_at | fechaEs }}</p>
      <button class="btn-secundario logout-btn" type="button" (click)="logout()">
        <i class="fa-solid fa-arrow-right-from-bracket"></i>
        Cerrar sesión
      </button>
    </div>
  </div>
</div>
